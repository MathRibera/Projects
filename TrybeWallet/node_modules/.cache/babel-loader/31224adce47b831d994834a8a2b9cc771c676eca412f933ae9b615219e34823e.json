{"ast":null,"code":"// Esse reducer será responsável por tratar o todas as informações relacionadas as despesas\nimport { DELETE, EDIT, EDITED, TOTAL, WALLET_CURRENCIES, WALLET_EXPENSES } from '../actions';\nconst INITIAL_STATE = {\n  currencies: [],\n  expenses: [],\n  editor: false,\n  idToEdit: 0,\n  total: 0,\n  itemEdit: {}\n};\nexport function wallet() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  const exchangeRates = payload;\n  switch (type) {\n    case WALLET_CURRENCIES:\n      delete payload.USDT;\n      return {\n        ...state,\n        currencies: Object.keys(payload),\n        exchangeRates\n      };\n    case WALLET_EXPENSES:\n      return {\n        ...state,\n        expenses: [...state.expenses, payload]\n      };\n    case TOTAL:\n      return {\n        ...state,\n        total: state.expenses.reduce((acc, curr) => {\n          const moeda = curr.currency;\n          const valueMoeda = parseFloat(curr.exchangeRates[moeda].ask);\n          const a = parseFloat(curr.value) * valueMoeda;\n          return acc + a;\n        }, 0).toFixed(2)\n      };\n    case DELETE:\n      return {\n        ...state,\n        expenses: state.expenses.filter(expense => expense !== payload)\n      };\n    case EDIT:\n      return {\n        ...state,\n        idToEdit: payload.id,\n        itemEdit: payload,\n        editor: true\n      };\n    case EDITED:\n      return {\n        ...state,\n        expenses: state.expenses.map(e => e.id === state.idToEdit ? {\n          ...payload\n        } : e),\n        idToEdit: 0,\n        editor: false\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["DELETE","EDIT","EDITED","TOTAL","WALLET_CURRENCIES","WALLET_EXPENSES","INITIAL_STATE","currencies","expenses","editor","idToEdit","total","itemEdit","wallet","state","type","payload","exchangeRates","USDT","Object","keys","reduce","acc","curr","moeda","currency","valueMoeda","parseFloat","ask","a","value","toFixed","filter","expense","id","map","e"],"sources":["/home/aa/Área de Trabalho/PROJETOS/sd-027-a-project-trybewallet/src/redux/reducers/wallet.js"],"sourcesContent":["// Esse reducer será responsável por tratar o todas as informações relacionadas as despesas\nimport {\n  DELETE, EDIT, EDITED, TOTAL, WALLET_CURRENCIES, WALLET_EXPENSES } from '../actions';\n\nconst INITIAL_STATE = {\n  currencies: [],\n  expenses: [],\n  editor: false,\n  idToEdit: 0,\n  total: 0,\n  itemEdit: {},\n};\n\nexport function wallet(state = INITIAL_STATE, { type, payload }) {\n  const exchangeRates = payload;\n  switch (type) {\n  case WALLET_CURRENCIES:\n    delete payload.USDT;\n    return {\n      ...state,\n      currencies: Object.keys(payload),\n      exchangeRates,\n    };\n  case WALLET_EXPENSES:\n    return {\n      ...state,\n      expenses: [...state.expenses, payload],\n    };\n  case TOTAL:\n    return {\n      ...state,\n      total: state.expenses\n        .reduce((acc, curr) => {\n          const moeda = curr.currency;\n          const valueMoeda = parseFloat(curr.exchangeRates[moeda].ask);\n          const a = parseFloat(curr.value) * valueMoeda;\n          return acc + a;\n        }, 0).toFixed(2),\n    };\n  case DELETE:\n    return {\n      ...state,\n      expenses: state.expenses.filter((expense) => expense !== payload),\n    };\n  case EDIT:\n    return {\n      ...state,\n      idToEdit: payload.id,\n      itemEdit: payload,\n      editor: true,\n    };\n  case EDITED:\n    return {\n      ...state,\n      expenses: state.expenses.map((e) => (e.id === state.idToEdit ? { ...payload } : e)),\n      idToEdit: 0,\n      editor: false,\n    };\n  default:\n    return state;\n  }\n}\n"],"mappings":"AAAA;AACA,SACEA,MAAM,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,iBAAiB,EAAEC,eAAe,QAAQ,YAAY;AAErF,MAAMC,aAAa,GAAG;EACpBC,UAAU,EAAE,EAAE;EACdC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE,KAAK;EACbC,QAAQ,EAAE,CAAC;EACXC,KAAK,EAAE,CAAC;EACRC,QAAQ,EAAE,CAAC;AACb,CAAC;AAED,OAAO,SAASC,MAAM,GAA2C;EAAA,IAA1CC,KAAK,uEAAGR,aAAa;EAAA,IAAE;IAAES,IAAI;IAAEC;EAAQ,CAAC;EAC7D,MAAMC,aAAa,GAAGD,OAAO;EAC7B,QAAQD,IAAI;IACZ,KAAKX,iBAAiB;MACpB,OAAOY,OAAO,CAACE,IAAI;MACnB,OAAO;QACL,GAAGJ,KAAK;QACRP,UAAU,EAAEY,MAAM,CAACC,IAAI,CAACJ,OAAO,CAAC;QAChCC;MACF,CAAC;IACH,KAAKZ,eAAe;MAClB,OAAO;QACL,GAAGS,KAAK;QACRN,QAAQ,EAAE,CAAC,GAAGM,KAAK,CAACN,QAAQ,EAAEQ,OAAO;MACvC,CAAC;IACH,KAAKb,KAAK;MACR,OAAO;QACL,GAAGW,KAAK;QACRH,KAAK,EAAEG,KAAK,CAACN,QAAQ,CAClBa,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;UACrB,MAAMC,KAAK,GAAGD,IAAI,CAACE,QAAQ;UAC3B,MAAMC,UAAU,GAAGC,UAAU,CAACJ,IAAI,CAACN,aAAa,CAACO,KAAK,CAAC,CAACI,GAAG,CAAC;UAC5D,MAAMC,CAAC,GAAGF,UAAU,CAACJ,IAAI,CAACO,KAAK,CAAC,GAAGJ,UAAU;UAC7C,OAAOJ,GAAG,GAAGO,CAAC;QAChB,CAAC,EAAE,CAAC,CAAC,CAACE,OAAO,CAAC,CAAC;MACnB,CAAC;IACH,KAAK/B,MAAM;MACT,OAAO;QACL,GAAGc,KAAK;QACRN,QAAQ,EAAEM,KAAK,CAACN,QAAQ,CAACwB,MAAM,CAAEC,OAAO,IAAKA,OAAO,KAAKjB,OAAO;MAClE,CAAC;IACH,KAAKf,IAAI;MACP,OAAO;QACL,GAAGa,KAAK;QACRJ,QAAQ,EAAEM,OAAO,CAACkB,EAAE;QACpBtB,QAAQ,EAAEI,OAAO;QACjBP,MAAM,EAAE;MACV,CAAC;IACH,KAAKP,MAAM;MACT,OAAO;QACL,GAAGY,KAAK;QACRN,QAAQ,EAAEM,KAAK,CAACN,QAAQ,CAAC2B,GAAG,CAAEC,CAAC,IAAMA,CAAC,CAACF,EAAE,KAAKpB,KAAK,CAACJ,QAAQ,GAAG;UAAE,GAAGM;QAAQ,CAAC,GAAGoB,CAAE,CAAC;QACnF1B,QAAQ,EAAE,CAAC;QACXD,MAAM,EAAE;MACV,CAAC;IACH;MACE,OAAOK,KAAK;EAAC;AAEjB"},"metadata":{},"sourceType":"module","externalDependencies":[]}